// This file is auto-generated by @hey-api/openapi-ts

import type { Client, Options as Options2, TDataShape } from './client';
import { client } from './client.gen';
import type {
  DeleteAccountsByIdData,
  DeleteAccountsByIdErrors,
  DeleteAccountsByIdMembersByUserIdData,
  DeleteAccountsByIdMembersByUserIdErrors,
  DeleteAccountsByIdMembersByUserIdResponses,
  DeleteAccountsByIdResponses,
  DeleteTransactionsByIdData,
  DeleteTransactionsByIdErrors,
  DeleteTransactionsByIdResponses,
  GetAccountsByIdData,
  GetAccountsByIdErrors,
  GetAccountsByIdResponses,
  GetAccountsByIdTransactionsData,
  GetAccountsByIdTransactionsErrors,
  GetAccountsByIdTransactionsResponses,
  PatchAccountsByIdMembersByUserIdData,
  PatchAccountsByIdMembersByUserIdErrors,
  PatchAccountsByIdMembersByUserIdResponses,
  PostAccountsByIdMembersData,
  PostAccountsByIdMembersErrors,
  PostAccountsByIdMembersResponses,
  PostAccountsByIdTransactionsData,
  PostAccountsByIdTransactionsErrors,
  PostAccountsByIdTransactionsResponses,
  PostAccountsData,
  PostAccountsErrors,
  PostAccountsResponses,
  PostAuthChangePasswordData,
  PostAuthChangePasswordErrors,
  PostAuthChangePasswordResponses,
  PostAuthLoginData,
  PostAuthLoginErrors,
  PostAuthLoginResponses,
  PostAuthRegisterData,
  PostAuthRegisterErrors,
  PostAuthRegisterResponses,
} from './types.gen';

export type Options<
  TData extends TDataShape = TDataShape,
  ThrowOnError extends boolean = boolean,
> = Options2<TData, ThrowOnError> & {
  /**
   * You can provide a client instance returned by `createClient()` instead of
   * individual options. This might be also useful if you want to implement a
   * custom client.
   */
  client?: Client;
  /**
   * You can pass arbitrary values through the `meta` object. This can be
   * used to access values that aren't defined as part of the SDK function.
   */
  meta?: Record<string, unknown>;
};

/**
 * Создание нового счёта
 *
 * Создаёт новый счёт для управления финансами. Создатель счёта автоматически получает роль Owner и может приглашать других участников, управлять их ролями и удалять счёт. Название счёта должно быть уникальным в рамках пользователя. Описание опционально.
 */
export const postAccounts = <ThrowOnError extends boolean = false>(
  options: Options<PostAccountsData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    PostAccountsResponses,
    PostAccountsErrors,
    ThrowOnError
  >({
    url: '/accounts',
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
  });

/**
 * Удаление счёта
 *
 * Полностью удаляет счёт вместе со всеми связанными данными: транзакциями и участниками. Операция необратима. Доступна только владельцу счёта (роль Owner). После удаления все участники теряют доступ к счёту, и все транзакции становятся недоступны.
 */
export const deleteAccountsById = <ThrowOnError extends boolean = false>(
  options: Options<DeleteAccountsByIdData, ThrowOnError>,
) =>
  (options.client ?? client).delete<
    DeleteAccountsByIdResponses,
    DeleteAccountsByIdErrors,
    ThrowOnError
  >({ url: '/accounts/{id}', ...options });

/**
 * Получение информации о счёте
 *
 * Возвращает детальную информацию о счёте по его ID: название, описание, владельца. Доступно всем участникам счёта. Для просмотра счёта пользователь должен быть его участником с любой ролью (Viewer, Editor, Admin, Owner).
 */
export const getAccountsById = <ThrowOnError extends boolean = false>(
  options: Options<GetAccountsByIdData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    GetAccountsByIdResponses,
    GetAccountsByIdErrors,
    ThrowOnError
  >({ url: '/accounts/{id}', ...options });

/**
 * Приглашение участника в счёт
 *
 * Добавляет нового участника в счёт с указанной ролью. Доступно только владельцу счёта (Owner). Приглашаемый пользователь должен быть зарегистрирован в системе. Роли: viewer (только просмотр), editor (создание/редактирование своих транзакций), admin (полные права на транзакции).
 */
export const postAccountsByIdMembers = <ThrowOnError extends boolean = false>(
  options: Options<PostAccountsByIdMembersData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    PostAccountsByIdMembersResponses,
    PostAccountsByIdMembersErrors,
    ThrowOnError
  >({
    url: '/accounts/{id}/members',
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
  });

/**
 * Удаление участника из счёта
 *
 * Удаляет участника из счёта, лишая его доступа ко всем данным счёта. Доступно только владельцу счёта (Owner). Нельзя удалить самого владельца. После удаления участник теряет доступ к просмотру и редактированию транзакций. Созданные им транзакции остаются в счёте.
 */
export const deleteAccountsByIdMembersByUserId = <
  ThrowOnError extends boolean = false,
>(
  options: Options<DeleteAccountsByIdMembersByUserIdData, ThrowOnError>,
) =>
  (options.client ?? client).delete<
    DeleteAccountsByIdMembersByUserIdResponses,
    DeleteAccountsByIdMembersByUserIdErrors,
    ThrowOnError
  >({ url: '/accounts/{id}/members/{user_id}', ...options });

/**
 * Изменение роли участника
 *
 * Изменяет роль существующего участника счёта. Доступно только владельцу счёта (Owner). Нельзя изменить роль самого владельца. Роли: viewer (только просмотр), editor (создание/редактирование своих транзакций), admin (полные права на транзакции). Изменение роли применяется немедленно.
 */
export const patchAccountsByIdMembersByUserId = <
  ThrowOnError extends boolean = false,
>(
  options: Options<PatchAccountsByIdMembersByUserIdData, ThrowOnError>,
) =>
  (options.client ?? client).patch<
    PatchAccountsByIdMembersByUserIdResponses,
    PatchAccountsByIdMembersByUserIdErrors,
    ThrowOnError
  >({
    url: '/accounts/{id}/members/{user_id}',
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
  });

/**
 * Список транзакций с фильтрацией
 *
 * Возвращает список транзакций счёта с возможностью фильтрации. Доступно всем участникам счёта (включая Viewer). Фильтры: date_from/date_to (временной диапазон в RFC3339), type (income/expense для доходов/расходов), is_periodic (только периодические), categories (массив категорий). Все фильтры опциональны и могут комбинироваться.
 */
export const getAccountsByIdTransactions = <
  ThrowOnError extends boolean = false,
>(
  options: Options<GetAccountsByIdTransactionsData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    GetAccountsByIdTransactionsResponses,
    GetAccountsByIdTransactionsErrors,
    ThrowOnError
  >({ url: '/accounts/{id}/transactions', ...options });

/**
 * Создание транзакции
 *
 * Создаёт новую финансовую транзакцию в счёте. Доступно участникам с ролью Editor и выше. Amount: положительное число для дохода, отрицательное для расхода. Поле occurred_at опционально (по умолчанию текущее время). Category опционально. IsPeriodic для периодических платежей (зарплата, аренда и т.д.).
 */
export const postAccountsByIdTransactions = <
  ThrowOnError extends boolean = false,
>(
  options: Options<PostAccountsByIdTransactionsData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    PostAccountsByIdTransactionsResponses,
    PostAccountsByIdTransactionsErrors,
    ThrowOnError
  >({
    url: '/accounts/{id}/transactions',
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
  });

/**
 * Смена пароля текущего пользователя
 *
 * Изменяет пароль для авторизованного пользователя. Требуется валидный JWT токен в заголовке Authorization. Новый пароль должен содержать минимум 6 символов. Старый токен остаётся валидным до истечения срока действия, рекомендуется получить новый токен после смены пароля.
 */
export const postAuthChangePassword = <ThrowOnError extends boolean = false>(
  options: Options<PostAuthChangePasswordData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    PostAuthChangePasswordResponses,
    PostAuthChangePasswordErrors,
    ThrowOnError
  >({
    url: '/auth/change-password',
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
  });

/**
 * Авторизация пользователя
 *
 * Выполняет вход в систему по email и паролю. При успешной авторизации возвращается JWT токен, который необходимо использовать в заголовке Authorization для доступа к защищённым эндпоинтам. Формат: "Bearer <token>". Срок действия токена настраивается через переменную окружения JWT_EXPIRES_IN (по умолчанию 24 часа).
 */
export const postAuthLogin = <ThrowOnError extends boolean = false>(
  options: Options<PostAuthLoginData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    PostAuthLoginResponses,
    PostAuthLoginErrors,
    ThrowOnError
  >({
    url: '/auth/login',
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
  });

/**
 * Регистрация нового пользователя
 *
 * Создаёт нового пользователя с указанным email и паролем. Email должен быть уникальным. Пароль должен содержать минимум 6 символов. После успешной регистрации возвращается JWT токен для авторизации.
 */
export const postAuthRegister = <ThrowOnError extends boolean = false>(
  options: Options<PostAuthRegisterData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    PostAuthRegisterResponses,
    PostAuthRegisterErrors,
    ThrowOnError
  >({
    url: '/auth/register',
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
  });

/**
 * Удаление транзакции
 *
 * Удаляет транзакцию из счёта. Права доступа: Editor может удалять только свои транзакции (созданные им), Admin и Owner могут удалять любые транзакции. Viewer не может удалять транзакции. Операция необратима. Транзакция автоматически получается по ID для проверки прав доступа.
 */
export const deleteTransactionsById = <ThrowOnError extends boolean = false>(
  options: Options<DeleteTransactionsByIdData, ThrowOnError>,
) =>
  (options.client ?? client).delete<
    DeleteTransactionsByIdResponses,
    DeleteTransactionsByIdErrors,
    ThrowOnError
  >({ url: '/transactions/{id}', ...options });
