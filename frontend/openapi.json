{
    "schemes": [],
    "swagger": "2.0",
    "info": {
        "description": "API для управления личными финансами",
        "title": "Accounter API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/accounts": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Создаёт новый счёт для управления финансами. Создатель счёта автоматически получает роль Owner и может приглашать других участников, управлять их ролями и удалять счёт. Название счёта должно быть уникальным в рамках пользователя. Описание опционально.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "accounts"
                ],
                "summary": "Создание нового счёта",
                "parameters": [
                    {
                        "description": "Данные нового счёта. Название обязательно, описание опционально.",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.CreateAccountRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Счёт успешно создан. Возвращается ID нового счёта.",
                        "schema": {
                            "$ref": "#/definitions/handlers.IDResponse"
                        }
                    },
                    "400": {
                        "description": "Неверный формат данных. Проверьте наличие названия счёта.",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при создании счёта",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/accounts/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Возвращает детальную информацию о счёте по его ID: название, описание, владельца. Доступно всем участникам счёта. Для просмотра счёта пользователь должен быть его участником с любой ролью (Viewer, Editor, Admin, Owner).",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "accounts"
                ],
                "summary": "Получение информации о счёте",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 1,
                        "description": "ID счёта",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Информация о счёте успешно получена",
                        "schema": {
                            "$ref": "#/definitions/handlers.AccountResponse"
                        }
                    },
                    "400": {
                        "description": "Неверный формат ID счёта",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Пользователь не является участником данного счёта",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Счёт с указанным ID не найден",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Полностью удаляет счёт вместе со всеми связанными данными: транзакциями и участниками. Операция необратима. Доступна только владельцу счёта (роль Owner). После удаления все участники теряют доступ к счёту, и все транзакции становятся недоступны.",
                "tags": [
                    "accounts"
                ],
                "summary": "Удаление счёта",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 1,
                        "description": "ID счёта для удаления",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Счёт успешно удалён вместе со всеми данными"
                    },
                    "400": {
                        "description": "Неверный формат ID счёта",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Недостаточно прав. Удалять счёт может только его владелец (Owner)",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Счёт с указанным ID не найден",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при удалении счёта",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/accounts/{id}/members": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Добавляет нового участника в счёт с указанной ролью. Доступно только владельцу счёта (Owner). Приглашаемый пользователь должен быть зарегистрирован в системе. Роли: viewer (только просмотр), editor (создание/редактирование своих транзакций), admin (полные права на транзакции).",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "members"
                ],
                "summary": "Приглашение участника в счёт",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 1,
                        "description": "ID счёта",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Email пользователя и его роль в счёте",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.InviteMemberRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Участник успешно добавлен в счёт",
                        "schema": {
                            "$ref": "#/definitions/handlers.MessageResponse"
                        }
                    },
                    "400": {
                        "description": "Неверный формат данных или неподдерживаемая роль",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Недостаточно прав. Приглашать участников может только Owner",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Пользователь с указанным email не найден в системе",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при добавлении участника",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/accounts/{id}/members/{user_id}": {
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Удаляет участника из счёта, лишая его доступа ко всем данным счёта. Доступно только владельцу счёта (Owner). Нельзя удалить самого владельца. После удаления участник теряет доступ к просмотру и редактированию транзакций. Созданные им транзакции остаются в счёте.",
                "tags": [
                    "members"
                ],
                "summary": "Удаление участника из счёта",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 1,
                        "description": "ID счёта",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "example": 42,
                        "description": "ID пользователя для удаления из счёта",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Участник успешно удалён из счёта"
                    },
                    "400": {
                        "description": "Неверный формат ID счёта или пользователя",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Недостаточно прав. Удалять участников может только Owner",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Участник не найден в данном счёте",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при удалении участника",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Изменяет роль существующего участника счёта. Доступно только владельцу счёта (Owner). Нельзя изменить роль самого владельца. Роли: viewer (только просмотр), editor (создание/редактирование своих транзакций), admin (полные права на транзакции). Изменение роли применяется немедленно.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "members"
                ],
                "summary": "Изменение роли участника",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 1,
                        "description": "ID счёта",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "example": 42,
                        "description": "ID пользователя, чью роль нужно изменить",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Новая роль участника",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.ChangeRoleRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Роль участника успешно изменена",
                        "schema": {
                            "$ref": "#/definitions/handlers.MessageResponse"
                        }
                    },
                    "400": {
                        "description": "Неверный формат данных или неподдерживаемая роль",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Недостаточно прав. Изменять роли может только Owner",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Участник не найден в данном счёте",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при изменении роли",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/accounts/{id}/transactions": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Возвращает список транзакций счёта с возможностью фильтрации. Доступно всем участникам счёта (включая Viewer). Фильтры: date_from/date_to (временной диапазон в RFC3339), type (income/expense для доходов/расходов), is_periodic (только периодические), categories (массив категорий). Все фильтры опциональны и могут комбинироваться.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "transactions"
                ],
                "summary": "Список транзакций с фильтрацией",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 1,
                        "description": "ID счёта",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "example": "2024-12-01T00:00:00Z",
                        "description": "Начальная дата (RFC3339). Включает транзакции с этой даты и позже",
                        "name": "date_from",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "example": "2024-12-31T23:59:59Z",
                        "description": "Конечная дата (RFC3339). Включает транзакции до этой даты включительно",
                        "name": "date_to",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Фильтр по периодическим транзакциям. true - только периодические, false - только разовые",
                        "name": "is_periodic",
                        "in": "query"
                    },
                    {
                        "enum": [
                            "income",
                            "expense"
                        ],
                        "type": "string",
                        "description": "Фильтр по типу транзакции",
                        "name": "type",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "multi",
                        "description": "Массив категорий для фильтрации. Можно указать несколько через \u0026categories=Еда\u0026categories=Транспорт",
                        "name": "categories",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Список транзакций, соответствующих фильтрам. Пустой массив если транзакций нет",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/handlers.TransactionResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Неверные параметры фильтрации. Проверьте формат дат и значение type",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Пользователь не является участником данного счёта",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при получении транзакций",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Создаёт новую финансовую транзакцию в счёте. Доступно участникам с ролью Editor и выше. Amount: положительное число для дохода, отрицательное для расхода. Поле occurred_at опционально (по умолчанию текущее время). Category опционально. IsPeriodic для периодических платежей (зарплата, аренда и т.д.).",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "transactions"
                ],
                "summary": "Создание транзакции",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 1,
                        "description": "ID счёта, в котором создаётся транзакция",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Данные транзакции. Title обязательно, amount в формате строки с точкой как разделителем",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.CreateTransactionRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Транзакция успешно создана. Возвращается ID новой транзакции",
                        "schema": {
                            "$ref": "#/definitions/handlers.IDResponse"
                        }
                    },
                    "400": {
                        "description": "Неверный формат данных. Проверьте формат amount и occurred_at (RFC3339)",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Недостаточно прав. Создавать транзакции могут только Editor, Admin и Owner",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при создании транзакции",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/change-password": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Изменяет пароль для авторизованного пользователя. Требуется валидный JWT токен в заголовке Authorization. Новый пароль должен содержать минимум 6 символов. Старый токен остаётся валидным до истечения срока действия, рекомендуется получить новый токен после смены пароля.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Смена пароля текущего пользователя",
                "parameters": [
                    {
                        "description": "Новый пароль. Минимум 6 символов, рекомендуется использовать буквы, цифры и специальные символы.",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.ChangePasswordRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Пароль успешно изменён. Рекомендуется выполнить повторный вход.",
                        "schema": {
                            "$ref": "#/definitions/handlers.MessageResponse"
                        }
                    },
                    "400": {
                        "description": "Неверный формат данных. Проверьте длину нового пароля.",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен в заголовке Authorization",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Пользователь не найден (возможно был удалён)",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при обновлении пароля",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "description": "Выполняет вход в систему по email и паролю. При успешной авторизации возвращается JWT токен, который необходимо использовать в заголовке Authorization для доступа к защищённым эндпоинтам. Формат: \"Bearer \u003ctoken\u003e\". Срок действия токена настраивается через переменную окружения JWT_EXPIRES_IN (по умолчанию 24 часа).",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Авторизация пользователя",
                "parameters": [
                    {
                        "description": "Учётные данные пользователя. Email и пароль должны совпадать с данными при регистрации.",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.LoginRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Успешная авторизация. Возвращается JWT токен для последующих запросов.",
                        "schema": {
                            "$ref": "#/definitions/handlers.TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Неверный формат данных в запросе",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Неверный email или пароль",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при авторизации",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "description": "Создаёт нового пользователя с указанным email и паролем. Email должен быть уникальным. Пароль должен содержать минимум 6 символов. После успешной регистрации возвращается JWT токен для авторизации.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Регистрация нового пользователя",
                "parameters": [
                    {
                        "description": "Данные для регистрации. Email должен быть валидным, пароль минимум 6 символов.",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.RegisterRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Пользователь успешно зарегистрирован. Возвращается JWT токен.",
                        "schema": {
                            "$ref": "#/definitions/handlers.TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Неверный формат данных. Проверьте email и длину пароля.",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "409": {
                        "description": "Пользователь с таким email уже существует",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при создании пользователя",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/transactions/{id}": {
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Удаляет транзакцию из счёта. Права доступа: Editor может удалять только свои транзакции (созданные им), Admin и Owner могут удалять любые транзакции. Viewer не может удалять транзакции. Операция необратима. Транзакция автоматически получается по ID для проверки прав доступа.",
                "tags": [
                    "transactions"
                ],
                "summary": "Удаление транзакции",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 123,
                        "description": "ID транзакции для удаления",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Транзакция успешно удалена"
                    },
                    "400": {
                        "description": "Неверный формат ID транзакции",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Отсутствует или невалидный JWT токен",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Недостаточно прав. Editor может удалять только свои транзакции, Admin/Owner - любые",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Транзакция с указанным ID не найдена",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера при удалении транзакции",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "handlers.AccountResponse": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string",
                    "example": "Общий счёт для домашних расходов"
                },
                "id": {
                    "type": "integer",
                    "example": 1
                },
                "name": {
                    "type": "string",
                    "example": "Семейный бюджет"
                },
                "owner_id": {
                    "type": "integer",
                    "example": 42
                }
            }
        },
        "handlers.ChangePasswordRequest": {
            "type": "object",
            "required": [
                "new_password"
            ],
            "properties": {
                "new_password": {
                    "type": "string",
                    "minLength": 6,
                    "example": "newSecurePassword456"
                }
            }
        },
        "handlers.ChangeRoleRequest": {
            "type": "object",
            "required": [
                "role"
            ],
            "properties": {
                "role": {
                    "type": "string",
                    "enum": [
                        "viewer",
                        "editor",
                        "admin"
                    ],
                    "example": "admin"
                }
            }
        },
        "handlers.CreateAccountRequest": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "description": {
                    "type": "string",
                    "example": "Общий счёт для домашних расходов"
                },
                "name": {
                    "type": "string",
                    "example": "Семейный бюджет"
                }
            }
        },
        "handlers.CreateTransactionRequest": {
            "type": "object",
            "required": [
                "amount",
                "title"
            ],
            "properties": {
                "amount": {
                    "type": "string",
                    "example": "-1500.50"
                },
                "category": {
                    "type": "string",
                    "example": "Еда"
                },
                "is_periodic": {
                    "type": "boolean",
                    "example": false
                },
                "occurred_at": {
                    "type": "string",
                    "example": "2024-12-13T14:30:00Z"
                },
                "title": {
                    "type": "string",
                    "example": "Покупка продуктов"
                }
            }
        },
        "handlers.ErrorResponse": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string",
                    "example": "invalid credentials"
                }
            }
        },
        "handlers.IDResponse": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer",
                    "example": 1
                }
            }
        },
        "handlers.InviteMemberRequest": {
            "type": "object",
            "required": [
                "email",
                "role"
            ],
            "properties": {
                "email": {
                    "type": "string",
                    "example": "newmember@example.com"
                },
                "role": {
                    "type": "string",
                    "enum": [
                        "viewer",
                        "editor",
                        "admin"
                    ],
                    "example": "editor"
                }
            }
        },
        "handlers.LoginRequest": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string",
                    "example": "user@example.com"
                },
                "password": {
                    "type": "string",
                    "example": "securePassword123"
                }
            }
        },
        "handlers.MessageResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "example": "password changed successfully"
                }
            }
        },
        "handlers.RegisterRequest": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string",
                    "example": "user@example.com"
                },
                "password": {
                    "type": "string",
                    "minLength": 6,
                    "example": "securePassword123"
                }
            }
        },
        "handlers.TokenResponse": {
            "type": "object",
            "properties": {
                "access_token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MDI1MDAwMDB9.abcdef123456"
                }
            }
        },
        "handlers.TransactionResponse": {
            "type": "object",
            "properties": {
                "account_id": {
                    "type": "integer",
                    "example": 1
                },
                "amount": {
                    "type": "string",
                    "example": "-1500.50"
                },
                "category": {
                    "type": "string",
                    "example": "Еда"
                },
                "id": {
                    "type": "integer",
                    "example": 123
                },
                "is_periodic": {
                    "type": "boolean",
                    "example": false
                },
                "occurred_at": {
                    "type": "string",
                    "example": "2024-12-13T14:30:00Z"
                },
                "title": {
                    "type": "string",
                    "example": "Покупка продуктов"
                },
                "user_id": {
                    "type": "integer",
                    "example": 42
                }
            }
        }
    }
}