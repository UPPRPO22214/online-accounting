basePath: /
definitions:
  handlers.AccountResponse:
    properties:
      description:
        example: Общий счёт для домашних расходов
        type: string
      id:
        example: 1
        type: integer
      name:
        example: Семейный бюджет
        type: string
      owner_id:
        example: 42
        type: integer
    type: object
  handlers.AccountRoleResponse:
    properties:
      description:
        example: Общий счёт для домашних расходов
        type: string
      id:
        example: 1
        type: integer
      name:
        example: Основной счёт
        type: string
      role:
        enum:
        - viewer
        - editor
        - admin
        example: editor
        type: string
    required:
    - role
    type: object
  handlers.ChangePasswordRequest:
    properties:
      new_password:
        example: newSecurePassword456
        minLength: 6
        type: string
    required:
    - new_password
    type: object
  handlers.ChangeRoleRequest:
    properties:
      role:
        enum:
        - viewer
        - editor
        - admin
        example: admin
        type: string
    required:
    - role
    type: object
  handlers.CreateAccountRequest:
    properties:
      description:
        example: Общий счёт для домашних расходов
        type: string
      name:
        example: Семейный бюджет
        type: string
    required:
    - name
    type: object
  handlers.CreateTransactionRequest:
    properties:
      amount:
        example: -1500.5
        type: number
      occurred_at:
        example: "2024-12-13T14:30:00Z"
        type: string
      period:
        enum:
        - day
        - week
        - month
        - year
        example: week
        type: string
      title:
        example: Покупка продуктов
        type: string
    required:
    - amount
    - title
    type: object
  handlers.ErrorResponse:
    properties:
      error:
        example: invalid credentials
        type: string
    type: object
  handlers.IDResponse:
    properties:
      id:
        example: 1
        type: integer
    type: object
  handlers.InviteMemberRequest:
    properties:
      email:
        example: newmember@example.com
        type: string
      role:
        enum:
        - viewer
        - editor
        - admin
        example: editor
        type: string
    required:
    - email
    - role
    type: object
  handlers.LoginRequest:
    properties:
      email:
        example: user@example.com
        type: string
      password:
        example: securePassword123
        type: string
    required:
    - email
    - password
    type: object
  handlers.MemberResponse:
    properties:
      email:
        example: newmember@example.com
        type: string
      role:
        enum:
        - viewer
        - editor
        - admin
        example: editor
        type: string
      user_id:
        example: 2
        type: integer
    required:
    - email
    - role
    - user_id
    type: object
  handlers.MessageResponse:
    properties:
      message:
        example: password changed successfully
        type: string
    type: object
  handlers.RegisterRequest:
    properties:
      email:
        example: user@example.com
        type: string
      password:
        example: securePassword123
        minLength: 6
        type: string
    required:
    - email
    - password
    type: object
  handlers.TokenResponse:
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MDI1MDAwMDB9.abcdef123456
        type: string
    type: object
  handlers.TransactionResponse:
    properties:
      account_id:
        example: 1
        type: integer
      amount:
        example: -1500.5
        type: number
      id:
        example: 123
        type: integer
      occurred_at:
        example: "2024-12-13T14:30:00Z"
        type: string
      period:
        example: week
        type: string
      title:
        example: Покупка продуктов
        type: string
      user_id:
        example: 42
        type: integer
    type: object
  handlers.UpdateTransactionRequest:
    properties:
      amount:
        example: -2000
        type: number
      occurred_at:
        example: "2024-12-20T15:00:00Z"
        type: string
      title:
        example: Обновленное название
        type: string
    required:
    - amount
    - occurred_at
    - title
    type: object
  handlers.UserProfileResponse:
    properties:
      email:
        example: user@example.com
        type: string
      id:
        example: 1
        type: integer
    type: object
host: localhost:8080
info:
  contact: {}
  description: API для управления личными финансами
  title: Accounter API
  version: "1.0"
paths:
  /accounts:
    get:
      description: Возвращает все счета, к которым пользователь имеет доступ (включая
        счета, где пользователь является участником). Список включает как собственные
        счета (роль Owner), так и счета, к которым пользователь был приглашён (роли
        Participant, Viewer и т.д.)
      produces:
      - application/json
      responses:
        "200":
          description: Список счетов пользователя
          schema:
            items:
              $ref: '#/definitions/handlers.AccountRoleResponse'
            type: array
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при получении счетов
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Получение списка счетов пользователя
      tags:
      - accounts
    post:
      consumes:
      - application/json
      description: Создаёт новый счёт для управления финансами. Создатель счёта автоматически
        получает роль Owner и может приглашать других участников, управлять их ролями
        и удалять счёт. Название счёта должно быть уникальным в рамках пользователя.
        Описание опционально.
      parameters:
      - description: Данные нового счёта. Название обязательно, описание опционально.
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateAccountRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Счёт успешно создан. Возвращается ID нового счёта.
          schema:
            $ref: '#/definitions/handlers.IDResponse'
        "400":
          description: Неверный формат данных. Проверьте наличие названия счёта.
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при создании счёта
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Создание нового счёта
      tags:
      - accounts
  /accounts/{id}:
    delete:
      description: 'Полностью удаляет счёт вместе со всеми связанными данными: транзакциями
        и участниками. Операция необратима. Доступна только владельцу счёта (роль
        Owner). После удаления все участники теряют доступ к счёту, и все транзакции
        становятся недоступны.'
      parameters:
      - description: ID счёта для удаления
        example: 1
        in: path
        name: id
        required: true
        type: integer
      responses:
        "204":
          description: Счёт успешно удалён вместе со всеми данными
        "400":
          description: Неверный формат ID счёта
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Недостаточно прав. Удалять счёт может только его владелец (Owner)
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Счёт с указанным ID не найден
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при удалении счёта
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Удаление счёта
      tags:
      - accounts
    get:
      description: 'Возвращает детальную информацию о счёте по его ID: название, описание,
        владельца. Доступно всем участникам счёта. Для просмотра счёта пользователь
        должен быть его участником с любой ролью (Viewer, Editor, Admin, Owner).'
      parameters:
      - description: ID счёта
        example: 1
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Информация о счёте успешно получена
          schema:
            $ref: '#/definitions/handlers.AccountResponse'
        "400":
          description: Неверный формат ID счёта
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Пользователь не является участником данного счёта
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Счёт с указанным ID не найден
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Получение информации о счёте
      tags:
      - accounts
  /accounts/{id}/members:
    get:
      description: Возвращает список пользователей с доступом к счёту и их ролями
      parameters:
      - description: ID счёта
        example: 1
        format: int64
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Список участников
          schema:
            items:
              $ref: '#/definitions/handlers.MemberResponse'
            type: array
        "400":
          description: Неверный ID счёта
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Требуется аутентификация
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Недостаточно прав
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Счёт не найден
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Получение списка участников счёта
      tags:
      - accounts
    post:
      consumes:
      - application/json
      description: 'Добавляет нового участника в счёт с указанной ролью. Доступно
        только владельцу счёта (Owner). Приглашаемый пользователь должен быть зарегистрирован
        в системе. Роли: viewer (только просмотр), editor (создание/редактирование
        своих транзакций), admin (полные права на транзакции).'
      parameters:
      - description: ID счёта
        example: 1
        in: path
        name: id
        required: true
        type: integer
      - description: Email пользователя и его роль в счёте
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.InviteMemberRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Участник успешно добавлен в счёт
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Неверный формат данных или неподдерживаемая роль
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Недостаточно прав. Приглашать участников может только Owner
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Пользователь с указанным email не найден в системе
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при добавлении участника
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Приглашение участника в счёт
      tags:
      - members
  /accounts/{id}/members/{user_id}:
    delete:
      description: Удаляет участника из счёта, лишая его доступа ко всем данным счёта.
        Доступно только владельцу счёта (Owner). Нельзя удалить самого владельца.
        После удаления участник теряет доступ к просмотру и редактированию транзакций.
        Созданные им транзакции остаются в счёте.
      parameters:
      - description: ID счёта
        example: 1
        in: path
        name: id
        required: true
        type: integer
      - description: ID пользователя для удаления из счёта
        example: 42
        in: path
        name: user_id
        required: true
        type: integer
      responses:
        "204":
          description: Участник успешно удалён из счёта
        "400":
          description: Неверный формат ID счёта или пользователя
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Недостаточно прав. Удалять участников может только Owner
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Участник не найден в данном счёте
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при удалении участника
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Удаление участника из счёта
      tags:
      - members
    patch:
      consumes:
      - application/json
      description: 'Изменяет роль существующего участника счёта. Доступно только владельцу
        счёта (Owner). Нельзя изменить роль самого владельца. Роли: viewer (только
        просмотр), editor (создание/редактирование своих транзакций), admin (полные
        права на транзакции). Изменение роли применяется немедленно.'
      parameters:
      - description: ID счёта
        example: 1
        in: path
        name: id
        required: true
        type: integer
      - description: ID пользователя, чью роль нужно изменить
        example: 42
        in: path
        name: user_id
        required: true
        type: integer
      - description: Новая роль участника
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ChangeRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Роль участника успешно изменена
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Неверный формат данных или неподдерживаемая роль
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Недостаточно прав. Изменять роли может только Owner
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Участник не найден в данном счёте
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при изменении роли
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Изменение роли участника
      tags:
      - members
  /accounts/{id}/transactions:
    get:
      description: 'Возвращает список транзакций счёта с возможностью фильтрации.
        Доступно всем участникам счёта (включая Viewer). Фильтры: date_from/date_to
        (временной диапазон в RFC3339), type (income/expense для доходов/расходов),
        user_id (транзакции конкретного пользователя). Все фильтры опциональны и могут
        комбинироваться. Возвращаются все транзакции (включая периодические), соответствующие
        фильтрам, отсортированные по дате (новые первыми).'
      parameters:
      - description: ID счёта
        example: 1
        in: path
        name: id
        required: true
        type: integer
      - description: Начальная дата (RFC3339). Включает транзакции с этой даты и позже
        example: "2024-12-01T00:00:00Z"
        in: query
        name: date_from
        type: string
      - description: Конечная дата (RFC3339). Включает транзакции до этой даты включительно
        example: "2024-12-31T23:59:59Z"
        in: query
        name: date_to
        type: string
      - description: Фильтр по типу транзакции
        enum:
        - income
        - expense
        in: query
        name: type
        type: string
      - description: Фильтр по ID пользователя (создателя транзакции)
        example: 42
        in: query
        name: user_id
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Список транзакций, соответствующих фильтрам. Пустой массив
            если транзакций нет
          schema:
            items:
              $ref: '#/definitions/handlers.TransactionResponse'
            type: array
        "400":
          description: Неверные параметры фильтрации. Проверьте формат дат и значение
            type
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Пользователь не является участником данного счёта
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при получении транзакций
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Список транзакций с фильтрацией
      tags:
      - transactions
    post:
      consumes:
      - application/json
      description: 'Создаёт финансовую транзакцию в счёте. Доступно участникам с ролью
        Editor и выше. Amount: положительное число для дохода, отрицательное для расхода.
        Если указан период (day/week/month/year), автоматически создаётся 500 периодических
        записей с указанным интервалом. Например, period="week" создаст транзакции
        с интервалом в 7 дней на ~9.6 лет вперёд. Это удобно для регулярных платежей:
        зарплата, аренда, подписки.'
      parameters:
      - description: ID счёта, в котором создаётся транзакция
        example: 1
        in: path
        name: id
        required: true
        type: integer
      - description: Данные транзакции. Title и amount обязательны. occurred_at опционален
          (по умолчанию текущее время). period опционален (day/week/month/year для
          периодических платежей)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateTransactionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Транзакция успешно создана. Для периодической транзакции создаётся
            500 записей
          schema:
            $ref: '#/definitions/handlers.IDResponse'
        "400":
          description: Неверный формат данных. Проверьте формат amount, occurred_at
            (RFC3339) и period (day/week/month/year)
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Недостаточно прав. Создавать транзакции могут только Editor,
            Admin и Owner
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при создании транзакции
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Создание транзакции (обычной или периодической)
      tags:
      - transactions
  /auth/change-password:
    post:
      consumes:
      - application/json
      description: Изменяет пароль для авторизованного пользователя. Требуется валидный
        JWT токен в заголовке Authorization. Новый пароль должен содержать минимум
        6 символов. Старый токен остаётся валидным до истечения срока действия, рекомендуется
        получить новый токен после смены пароля.
      parameters:
      - description: Новый пароль. Минимум 6 символов, рекомендуется использовать
          буквы, цифры и специальные символы.
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Пароль успешно изменён. Рекомендуется выполнить повторный вход.
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Неверный формат данных. Проверьте длину нового пароля.
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен в заголовке Authorization
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Пользователь не найден (возможно был удалён)
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при обновлении пароля
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Смена пароля текущего пользователя
      tags:
      - auth
  /auth/login:
    post:
      consumes:
      - application/json
      description: 'Выполняет вход в систему по email и паролю. При успешной авторизации
        возвращается JWT токен, который необходимо использовать в заголовке Authorization
        для доступа к защищённым эндпоинтам. Формат: "Bearer <token>". Срок действия
        токена настраивается через переменную окружения JWT_EXPIRES_IN (по умолчанию
        24 часа).'
      parameters:
      - description: Учётные данные пользователя. Email и пароль должны совпадать
          с данными при регистрации.
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Успешная авторизация. Возвращается JWT токен для последующих
            запросов.
          schema:
            $ref: '#/definitions/handlers.TokenResponse'
        "400":
          description: Неверный формат данных в запросе
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Неверный email или пароль
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при авторизации
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Авторизация пользователя
      tags:
      - auth
  /auth/logout:
    post:
      description: Удаляет JWT токен из cookies браузера. На клиенте также рекомендуется
        очистить токен из localStorage/sessionStorage если он там хранится. После
        выхода требуется повторная авторизация для доступа к защищённым эндпоинтам.
      produces:
      - application/json
      responses:
        "200":
          description: Успешный выход из системы
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Выход из системы
      tags:
      - auth
  /auth/profile:
    get:
      description: Возвращает информацию о текущем аутентифицированном пользователе
        на основе JWT токена. Включает основные данные пользователя (ID, email). Для
        получения профиля требуется валидный JWT токен.
      produces:
      - application/json
      responses:
        "200":
          description: Профиль пользователя
          schema:
            $ref: '#/definitions/handlers.UserProfileResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Пользователь не найден (редкий случай, если пользователь удалён)
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Получение профиля пользователя
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Создаёт нового пользователя с указанным email и паролем. Email
        должен быть уникальным. Пароль должен содержать минимум 6 символов. После
        успешной регистрации возвращается JWT токен для авторизации.
      parameters:
      - description: Данные для регистрации. Email должен быть валидным, пароль минимум
          6 символов.
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Пользователь успешно зарегистрирован. Возвращается JWT токен.
          schema:
            $ref: '#/definitions/handlers.TokenResponse'
        "400":
          description: Неверный формат данных. Проверьте email и длину пароля.
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "409":
          description: Пользователь с таким email уже существует
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при создании пользователя
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Регистрация нового пользователя
      tags:
      - auth
  /transactions/{id}:
    delete:
      description: 'Удаляет транзакцию из счёта. Права доступа: Editor может удалять
        только свои транзакции (созданные им), Admin и Owner могут удалять любые транзакции.
        Viewer не может удалять транзакции. Операция необратима. Транзакция автоматически
        получается по ID для проверки прав доступа. ВАЖНО: при удалении периодической
        транзакции удаляется только одна запись, а не вся серия.'
      parameters:
      - description: ID транзакции для удаления
        example: 123
        in: path
        name: id
        required: true
        type: integer
      responses:
        "204":
          description: Транзакция успешно удалена
        "400":
          description: Неверный формат ID транзакции
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Недостаточно прав. Editor может удалять только свои транзакции,
            Admin/Owner - любые
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Транзакция с указанным ID не найдена
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при удалении транзакции
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Удаление транзакции
      tags:
      - transactions
    patch:
      consumes:
      - application/json
      description: 'Обновляет поля транзакции: title, amount, occurred_at. Поле period
        обновить нельзя. Права доступа: Editor может редактировать только свои транзакции
        (созданные им), Admin и Owner могут редактировать любые транзакции. Viewer
        не может редактировать транзакции. При обновлении периодической транзакции
        изменяется только одна запись, а не вся серия.'
      parameters:
      - description: ID транзакции для обновления
        example: 123
        in: path
        name: id
        required: true
        type: integer
      - description: Новые данные транзакции. Все поля обязательны.
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateTransactionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Транзакция успешно обновлена
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Неверный формат данных или ID транзакции
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Отсутствует или невалидный JWT токен
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Недостаточно прав. Editor может редактировать только свои транзакции,
            Admin/Owner - любые
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Транзакция с указанным ID не найдена
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера при обновлении транзакции
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Обновление транзакции
      tags:
      - transactions
swagger: "2.0"
