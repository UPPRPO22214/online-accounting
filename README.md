# ChewBuys Wallet

## Общая концепция
Онлайн-бухгалтерия, которая не нянчится: права,  деньги,  счета - всё по-взрослому. Приложение предназначено для совместного управления бюджетом в группах (семья или организация). Пользователи могут создавать группы, приглашать участников с разными ролями доступа и вести транзакции (финансовые записи). Фокус на простоте: базовая аутентификация, управление транзакциями и дашборд с историей.

## Состав команды
- Диза Михаил - дэвопс
- Козлов Кирилл - фронтэнд, таскменеджмент
- Цой Антон - бэкэнд

## Функциональные требования

### **1. Регистрация и авторизация**

* **Регистрация**: Пользователь создает аккаунт с email и паролем. Также будет требоваться подтверждение по email.
* **Авторизация**: Вход по email и паролю, выдача JWT-токена для сессии.
* **Управление аккаунтом**: Смена пароля, выход из системы.
* **Безопасность**: Роли на уровне групп (не глобальные):
  * **Viewer** (просмотр): Только чтение транзакций и дашборда.
  * **Contributor** (редактор): CRUD права на свои транзакции по счёту.
  * **Admin** (администратор): Полные права — создание/редактирование/удаление транзакций (включая чужие), управление участниками.

### **2. Управление счетами**

Каждая счёт имеет владельца (создателя, роль Admin по умолчанию).

* **Создание счёта**:
  * Название счёта (строка, уникально в аккаунте пользователя).
  * Описание (опционально).
  * Владелец становится Admin.
* **Удаление счёта**:
  * Только владелец (Admin) может удалить счёт.
  * При удалении все транзакции и участники удаляются (или архивируются — для MVP просто удаление).
* **Управление участниками**:
  * Приглашение по email (Admin добавляет пользователя в группу).
  * Назначение роли: Viewer или Contributor.
  * Удаление участника: Только Admin.

### **3. Финансовые транзакции (записи)**

Транзакции привязаны к группе (счёту). Нет строгого разделения на "доходы/расходы" — сумма может быть положительной (доход) или отрицательной (расход), с визуальным отображением по знаку. Поддержка периодичности для автоматизации повторяющихся платежей.

* **Параметры транзакции**:
  * Название (строка, обязательное).
  * Сумма (десятичное число, положительное/отрицательное).
  * Дата (дата/время, по умолчанию текущая).
  * Категория (выбор из предопределенных или пользовательских в группе, опционально).
  * Периодичность:
    * **Одноразовая**: Без повторений.
    * **Периодическая**: Раз в N дней/месяцев/лет.
      * N (целое число, >0).
      * Срок окончания (опционально: дата, после которой повторения прекращаются).
      * При создании: генерируется серия будущих транзакций (до 1 года вперед для MVP, с флагом "периодическая").
      * Редактирование: Изменение влияет только на будущие экземпляры (аналогично Google Calendar: редактирование "этого события" или "всех будущих"). Для MVP — простая логика: редактирование базовой транзакции обновляет шаблон, а экземпляры остаются неизменными.
* **Операции с транзакциями**:
  * **Создание**: Любой участник (Contributor или Admin). Привязка к своей группе.
  * **Редактирование**: Только свои транзакции (для Contributor) или любые (для Admin). Для периодических — опция "обновить все будущие".
  * **Удаление**: Только свои (Contributor) или любые (Admin). Для периодических — удаление базовой \+ будущих экземпляров.
  * **Просмотр**: Доступно всем участникам группы (Viewer+).

### **4. Дашборд и просмотр данных**

Основная страница группы — дашборд с историей транзакций. Нет сложной аналитики, только базовый обзор.

* **Элементы дашборда**:
  * Текущий баланс группы (сумма всех транзакций, кэшируется для скорости).
  * Список транзакций (пагинация, сортировка по дате descending).
* **Фильтры для списка транзакций**:
  * **Доходы**: Только положительные суммы.
  * **Расходы**: Только отрицательные суммы.
  * **Временной период**: От/до даты (диапазон).
  * **Только периодические**: Фильтр по флагу "периодическая" (включая экземпляры).
  * **Категория**: Опциональный фильтр по выбранным категориям.
* **Дополнительно**:
  * Реальное время: Автообновление списка при изменениях в группе (через WebSockets или polling).
